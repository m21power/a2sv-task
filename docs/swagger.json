{
    "swagger": "2.0",
    "info": {
        "contact": {}
    },
    "paths": {
        "/api/v1/bonds/search": {
            "get": {
                "description": "Search bonds by coupon rate and maturity date",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "bonds"
                ],
                "summary": "Search bonds",
                "parameters": [
                    {
                        "type": "number",
                        "description": "Minimum coupon rate",
                        "name": "minCoupon",
                        "in": "query"
                    },
                    {
                        "type": "number",
                        "description": "Maximum coupon rate",
                        "name": "maxCoupon",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Maturity before (YYYY-MM-DD)",
                        "name": "maturityBefore",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Maturity after (YYYY-MM-DD)",
                        "name": "maturityAfter",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/domain.Bond"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/utils.StandardResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/utils.StandardResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/cmsp": {
            "get": {
                "description": "Get all Capital Market Service Providers, filter by type or license date",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "cmsp"
                ],
                "summary": "List all CMSPs",
                "parameters": [
                    {
                        "type": "string",
                        "description": "CMSP type",
                        "name": "type",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Licensed before (YYYY-MM-DD)",
                        "name": "licensedBefore",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Licensed after (YYYY-MM-DD)",
                        "name": "licensedAfter",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/domain.CMSP"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/utils.StandardResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/utils.StandardResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/cmsp/{id}": {
            "get": {
                "description": "Get a Capital Market Service Provider by its ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "cmsp"
                ],
                "summary": "Get CMSP by ID",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "CMSP ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/domain.CMSP"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/utils.StandardResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/utils.StandardResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/economic-indicators": {
            "get": {
                "description": "Retrieve key economic indicators for Ethiopia",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "economic-indicators"
                ],
                "summary": "Get economic indicators",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/domain.APIResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/utils.StandardResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/portfolio/recommendation": {
            "post": {
                "description": "Get a recommended portfolio allocation based on user profile",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "portfolio"
                ],
                "summary": "Recommend a portfolio",
                "parameters": [
                    {
                        "description": "Portfolio request body",
                        "name": "profile",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/domain.PortfolioRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/domain.PortfolioResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/utils.StandardResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/stocks": {
            "get": {
                "description": "Get all stocks, optionally filter by gainer or loser",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "stocks"
                ],
                "summary": "List all stocks",
                "parameters": [
                    {
                        "type": "string",
                        "description": "gainer or loser",
                        "name": "type",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/domain.Stock"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/utils.StandardResponse"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "domain.APIResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/domain.DerivedYearData"
                    }
                },
                "metadata": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/domain.IndicatorMeta"
                    }
                },
                "source": {
                    "type": "string"
                }
            }
        },
        "domain.Asset": {
            "type": "object",
            "properties": {
                "Amount": {
                    "type": "number"
                },
                "Name": {
                    "type": "string"
                },
                "Yield": {
                    "type": "number"
                }
            }
        },
        "domain.Bond": {
            "type": "object",
            "properties": {
                "couponRate": {
                    "type": "number"
                },
                "id": {
                    "type": "string"
                },
                "issuer": {
                    "type": "string"
                },
                "maturityDate": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "price": {
                    "type": "number"
                }
            }
        },
        "domain.CMSP": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "licensedDate": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "plan": {
                    "type": "string"
                },
                "source": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "domain.DerivedYearData": {
            "type": "object",
            "properties": {
                "exchange_rate": {
                    "type": "number"
                },
                "foreign_reserves": {
                    "type": "number"
                },
                "gdp_growth": {
                    "type": "number"
                },
                "govt_debt_gdp": {
                    "type": "number"
                },
                "real_interest_rate": {
                    "type": "number"
                },
                "year": {
                    "type": "integer"
                }
            }
        },
        "domain.IndicatorMeta": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "indicator": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "unit": {
                    "type": "string"
                }
            }
        },
        "domain.PortfolioRequest": {
            "type": "object",
            "properties": {
                "initialCapital": {
                    "type": "number"
                },
                "profile": {
                    "type": "string"
                },
                "targetGoal": {
                    "type": "number"
                }
            }
        },
        "domain.PortfolioResponse": {
            "type": "object",
            "properties": {
                "Bond": {
                    "$ref": "#/definitions/domain.Asset"
                },
                "Cash": {
                    "$ref": "#/definitions/domain.Asset"
                },
                "GapToGoal": {
                    "type": "number"
                },
                "GoalMet": {
                    "type": "boolean"
                },
                "Stock": {
                    "$ref": "#/definitions/domain.Asset"
                },
                "TotalReturn": {
                    "type": "number"
                }
            }
        },
        "domain.Stock": {
            "type": "object",
            "properties": {
                "changePercent": {
                    "type": "number"
                },
                "name": {
                    "type": "string"
                },
                "price": {
                    "type": "number"
                },
                "symbol": {
                    "type": "string"
                },
                "volume": {
                    "type": "integer"
                }
            }
        },
        "utils.StandardResponse": {
            "type": "object",
            "properties": {
                "data": {},
                "error": {
                    "type": "string"
                },
                "message": {
                    "type": "string"
                },
                "success": {
                    "type": "boolean"
                },
                "timestamp": {
                    "type": "string"
                }
            }
        }
    }
}